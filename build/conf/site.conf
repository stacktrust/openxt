#--- Temp directory compatible with multiconfig and ram disks
# FIXME 2020-03-04: disable, causes "build-glibc" to be used?
# OXT_BASE_TMPDIR="/build/openxt/build"
# TMPDIR="${OXT_BASE_TMPDIR}"

#--- Hash Equivalence
# Enable a local hash equivalence server and instruct bitbake
# to use a hash equivalence aware signature generator. Hash
# equivalence improves reuse of sstate by detecting when a given
# sstate artifact can be reused as equivalent, even if the current
# task hash doesn't match the one that generated the artifact.
#
# FIXME 2020-03-04: disable due to deadlocks, retest Dunfell/3.1
# BB_HASHSERVE = "auto"
# BB_SIGNATURE_HANDLER = "OEEquivHash"

#--- Reproducible builds
BUILD_REPRODUCIBLE_BINARIES="1"
REPRODUCIBLE_TIMESTAMP_ROOTFS="1"

#--- Certificates for installer/upgrade package signing
OXT_REPO_DEV_SIGNING_CERT="/home/user/oxt-certs/dev-cacert.pem"
OXT_REPO_DEV_SIGNING_KEY="/home/user/oxt-certs/dev-cakey.pem"

OXT_REPO_PROD_SIGNING_CERT="/home/user/oxt-certs/prod-cacert.pem"
OXT_REPO_PROD_SIGNING_KEY="/home/user/oxt-certs/prod-cakey.pem"

OXT_REPO_SIGNING_CERT="${OXT_REPO_DEV_SIGNING_CERT}"
OXT_REPO_SIGNING_KEY="${OXT_REPO_DEV_SIGNING_KEY}"
OXT_REPO_SIGNING_KEY_PASSPHRASE=""

#--- Define version/release strings
# FIXME: dedupe, consolidate, branding
OXT_ID="2020-03-04-1200"
OXT_VERSION="oxt-master-dev"
OXT_RELEASE="10.0.0"
OXT_UPGRADEABLE_RELEASES="10.0.0"

XENCLIENT_BUILD = "${OXT_VERSION}"
XENCLIENT_BUILD_DATE = "${OXT_ID}"
XENCLIENT_BUILD_BRANCH = "master"
XENCLIENT_VERSION = "${OXT_RELEASE}"
XENCLIENT_RELEASE = "${OXT_RELEASE}"
XENCLIENT_TOOLS = "20.0.0.0"
